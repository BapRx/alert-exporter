# List of monitoring alerts
{% for alert_type, alerts in alerts.items() %}
{% if alerts -%}
- [{{ alert_type | capitalize }} alerts](#{{ alert_type }}-alerts)
{%- endif %}
{%- endfor %}

{% if alerts.cloudwatch -%}
## Cloudwatch alerts
|Name|Description|Type|Region|Rule|
|---|---|---|---|---|
{%- for alert in alerts.cloudwatch %}
|{{ alert.name }}|{{ alert.description }}|{{ alert.type }}|{{ alert.region }}|<code>{{ alert.rule }}</code>|
{%- endfor %}
{%- endif %}

{% if alerts.pingdom -%}
## Pingdom alerts
|Name|URL|Type|Tags|
|----|---|----|----|
{% for check in alerts.pingdom -%}
|{{ check.name }}|{{ check.hostname }}|{{ check.type }}|{{ check.tags }}|
{% endfor -%}
{% endif -%}

{% if alerts.prometheus -%}
## Prometheus alerts
|PrometheusRule|Group/Name|Summary|Description|Expr|For|Severity|Runbook|
|---|---|---|---|---|---|---|---|
{% for alert in alerts.prometheus -%}
|{{ alert.promRuleName }}|{{ alert.name }}|{{ alert.summary.replace("|", "\|") }}|{{ alert.description.replace("\n", " ").replace("|", "\|") }}|<code>{{ alert.expr.replace("\n", " ") }}</code>|{{ alert.for }}|{{ alert.severity }}|{{ '[' + alert.runbook +'](' + alert.runbook + ')' if alert.runbook.startswith("http") else alert.runbook }}|
{% endfor -%}
{% endif -%}
